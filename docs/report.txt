2. 서론 및 연구목표
2.1 연구 배경: SEM 계측과 영상 품질의 중요성
공정/소자 분석에서 SEM 이미지가 하는 역할(패턴 형상, 라인폭, 결함 분석 등)
프레임 수(8F vs 64F)와 가속 전압(1kV/15kV/25kV)이 계측값, 노이즈, 콘트라스트에 미치는 영향

현실 제약 -> motivation:
고프레임·다전압 촬영은 시간·장비 자원·샘플 손상 측면에서 부담이 큼


2.2 연구 동향 및 관련 연구
자연 이미지 영역: 디노이징, 초해상, image-to-image translation, diffusion 모델 요약

contribution:
“자연 이미지용 기법을 그대로 쓰기보다는 SEM 특성을 반영한 두 축의 접근"
1. SEM 디노이징 / 2. 다전압 모델링


2.3 연구 범위 및 대상 과제 정의
축 I: 15kV 8F → 64F 디노이징 유사 변환 + BG-ISO transfer
“디노이징”이라기보다는 “저프레임 이미지를 고프레임 수준으로 보정”하는 문제임을 설명

축 II: 15kV → 1kV / 25kV voltage-conditioned image translation (diffusion 기반)
한 전압에서의 관측만으로 다른 전압 조건을 가상 생성하려는 목표


2.4 구체적 연구목표 및 주요 질문
축 I 목표
시각적 품질을 향상시키면서 계측 정보(라인폭, edge 위치 등)를 얼마까지 보존 가능한가?
도메인 전이(BG-ISO) 상황에서도 모델을 얼마나 안정적으로 운용할 수 있는가?

축 II 목표
15kV 이미지만으로 1kV/25kV에서 관측될 법한 구조·콘트라스트 변화를 재현할 수 있는가?
확산 step 수 및 sampling 전략이 SEM 계측/시각 품질에 미치는 영향을 체계적으로 분석할 수 있는가?


3. 연구과정 및 내용
3.1 데이터셋 및 실험 환경
(1) 15kV 8F/64F 데이터셋: 촬영 조건, 패턴 종류, 해상도, 정렬 방식 등
(2) BG-ISO 데이터셋: 15kV 데이터와의 도메인 갭
(3) 1kV/15kV/25kV 다전압 데이터셋:

공통 실험 환경: GPU, patch size, batch size, 학습/추론 파이프라인 개요

3.2 축 I: Memory 기반 15kV 8F → 64F “디노이징 유사 변환”
3.2.1 문제 정의 및 난점
8F와 64F 차이가 장비 특성에서 기인하여 엄밀한 의미의 Gaussian 디노이징과는 다른 문제 구조를 설명


3.2.2 모델 구조 및 학습 설정
UNet/UNetImproved 기반 backbone 소개
Memory adapter 설계
고품질 패치 메모리 구성, 유사도 기반 retrieval, feature 주입 방식

손실 함수 구성
재구성 손실(L1/L2) + perceptual loss
edge/gradient 보존 loss


3.2.3 BG-ISO transfer 실험 설계
15kV 데이터로 학습 후 BG-ISO에 직접 적용 → fine-tuning 전략
전층 재학습 vs 일부 모듈만 재학습
메모리 내용/구성을 바꿔가며 transfer robustness를 확인하는 실험 설계

3.2.4 기술적 어려움: 메모리와 계측 정보의 충돌/
메모리를 강하게 사용할수록 더 품질이 좋아 보이지만
edge 위치, 미세 패턴이 미묘하게 변형되며 계측 오차 증가
이를 완화하기 위해 시도한 내용: 특정 주파수/스케일에만 메모리 적용


3.3 축 II: Diffusion 기반 15kV → 1kV / 25kV 이미지 변환
3.3.1 문제 정의 및 특성
입력: 15kV, 출력: 1kV 또는 25kV 조건에서의 대응 이미지
단순 contrast mapping이 아니라
전압 변화에 따른 물리·재료 기반 contrast 변화를 암묵적으로 학습해야 하는 문제임을 설명

3.3.2 모델 구조 및 조건 인코딩

Latent diffusion backbone 개요
Voltage condition 인코딩 방식(one-hot embedding 등)
15kV 이미지를 source condition으로 함께 넣는 구조(image-to-image diffusion)

3.3.3 Sampling 전략 및 step 수 실험
sampler 종류(DDIM, DPM++ 등)와 기본 설정
step 수 ablation 계획

자연 이미지 기준(20–50 step)과의 비교
SEM 데이터에서 50, 100, 250, 500, ~1000 step 등 다단계 설정
실험 중 겪은 어려움
step이 적을 때 패턴 누락, edge 떨림, 콘트라스트 이상이 쉽게 발생
guidance scale 조정만으로는 해결이 잘 되지 않았던 점


3.4 평가 방법
L1 loss
계측 결과 : 
도메인 갭(BG-ISO) 및 voltage 간 관계를 평가하는 설계
“시각적 품질 vs 계측 정확도”라는 두 축을 기준으로


3.5 최적화방법론: Bayesian Optimization


4. 연구결과
4.1 축 I 결과: 15kV 8F → 64F 및 BG-ISO 전이
4.1.1 동일 도메인(15kV) 결과
대표 시각 예시(8F vs 64F vs 모델 출력)
정량 지표:
L1 개선 정도
계측 기준(라인폭, edge 위치 등)의 평균 오차 및 분포
성공 사례와 실패 사례를 함께 제시

4.1.2 BG-ISO transfer 결과
fine-tuning 유무, 메모리 구성 변화에 따른 성능 비교
메모리 사용 방식에 따른 trade-off
(a) 원본처럼 보이지만 계측 오차가 커지는 케이스
(b) 계측은 맞지만 노이즈/텍스처가 거칠게 남는 케이스
이 분석을 통해 얻은 인사이트

4.2 축 II 결과: Diffusion 기반 15kV → 1kV / 25kV 변환
4.2.1 15kV → 1kV 변환 결과 / 15kV → 25kV 변환 결과
잘 되는 패턴(규칙적 라인, 반복 구조 등)과
잘 안 되는 패턴(복잡한 텍스처, 강한 charging 등) 구분

4.2.2 Sampling step 및 파라미터에 따른 성능 변화
step 수에 따른 시각/계측 지표 그래프
거의 1000 step 수준에서 best trade-off를 보였다는 결과 명시

4.3 Bayesian optimization 적용 결과


5. 결론


두 축을 중심으로 연구 목표–방법–결과를 2~3단락으로 정리
15kV 8F→64F에서 달성한 개선 수준
BG-ISO transfer를 통해 드러난 도메인 갭과 memory의 한계

Diffusion 기반 다전압 변환에서 step 수(≈1000)의 중요성을 보여준 점